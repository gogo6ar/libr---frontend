(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jcJX:function(r,e,o){"use strict";o.r(e),o.d(e,"AccountModule",(function(){return R}));var i=o("3Pt+"),t=o("ofXK"),s=o("tyNb"),n=o("fXoL"),c=o("J9tS");let a=(()=>{class r{constructor(r,e){this.router=r,this.accountService=e,this.accountService.userValue&&this.router.navigate(["/"])}}return r.\u0275fac=function(e){return new(e||r)(n.Ob(s.c),n.Ob(c.a))},r.\u0275cmp=n.Ib({type:r,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(r,e){1&r&&(n.Tb(0,"div",0),n.Pb(1,"router-outlet"),n.Sb())},directives:[s.g],encapsulation:2}),r})();var b=o("SxV6");function d(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Email is required"),n.Sb())}function f(r,e){if(1&r&&(n.Tb(0,"div",13),n.Ec(1,d,2,0,"div",14),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.email.errors.required)}}function u(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Password is required"),n.Sb())}function l(r,e){if(1&r&&(n.Tb(0,"div",13),n.Ec(1,u,2,0,"div",14),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.password.errors.required)}}function m(r,e){1&r&&n.Pb(0,"span",15)}const g=function(r){return{"is-invalid":r}};function p(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"First Name is required"),n.Sb())}function v(r,e){if(1&r&&(n.Tb(0,"div",23),n.Ec(1,p,2,0,"div",24),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.firstName.errors.required)}}function h(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Last Name is required"),n.Sb())}function S(r,e){if(1&r&&(n.Tb(0,"div",23),n.Ec(1,h,2,0,"div",24),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.lastName.errors.required)}}function T(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Email is required"),n.Sb())}function B(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Email is not valid"),n.Sb())}function w(r,e){if(1&r&&(n.Tb(0,"div",23),n.Ec(1,T,2,0,"div",24),n.Ec(2,B,2,0,"div",24),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.email.errors.required),n.Bb(1),n.oc("ngIf",r.f.email.errors.email)}}function I(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Age is required"),n.Sb())}function P(r,e){if(1&r&&(n.Tb(0,"div",23),n.Ec(1,I,2,0,"div",24),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.age.errors.required)}}function C(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Phone is required"),n.Sb())}function E(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Phone must have 9 digits"),n.Sb())}function G(r,e){if(1&r&&(n.Tb(0,"div",23),n.Ec(1,C,2,0,"div",24),n.Ec(2,E,2,0,"div",24),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.phone.errors.required),n.Bb(1),n.oc("ngIf",r.f.phone.errors.pattern)}}function q(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Password is required"),n.Sb())}function N(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Password must be at least 6 characters"),n.Sb())}function y(r,e){if(1&r&&(n.Tb(0,"div",23),n.Ec(1,q,2,0,"div",24),n.Ec(2,N,2,0,"div",24),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.password.errors.required),n.Bb(1),n.oc("ngIf",r.f.password.errors.minlength)}}function k(r,e){1&r&&(n.Tb(0,"div"),n.Gc(1,"Passwords don't match"),n.Sb())}function O(r,e){if(1&r&&(n.Tb(0,"div",23),n.Ec(1,k,2,0,"div",24),n.Sb()),2&r){const r=n.jc();n.Bb(1),n.oc("ngIf",r.f.confirmPass.hasError("checkIfMatchingPasswords"))}}function j(r,e){1&r&&n.Pb(0,"span",25)}const L=function(r){return{"is-invalid":r}},M=[{path:"",component:a,children:[{path:"login",component:(()=>{class r{constructor(r,e,o,i,t){this.formBuilder=r,this.route=e,this.router=o,this.accountService=i,this.alertService=t,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({email:["",i.o.email],password:["",i.o.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.login(this.f.email.value,this.f.password.value).pipe(Object(b.a)()).subscribe(r=>{this.router.navigate([this.returnUrl])},r=>{this.alertService.error(r.error.errorMessage),this.loading=!1}))}}return r.\u0275fac=function(e){return new(e||r)(n.Ob(i.b),n.Ob(s.a),n.Ob(s.c),n.Ob(c.a),n.Ob(c.b))},r.\u0275cmp=n.Ib({type:r,selectors:[["ng-component"]],decls:21,vars:11,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(n.Tb(0,"div",0),n.Tb(1,"h4",1),n.Gc(2,"Login"),n.Sb(),n.Tb(3,"div",2),n.Tb(4,"form",3),n.fc("ngSubmit",(function(){return e.onSubmit()})),n.Tb(5,"div",4),n.Tb(6,"label",5),n.Gc(7,"Email"),n.Sb(),n.Pb(8,"input",6),n.Ec(9,f,2,1,"div",7),n.Sb(),n.Tb(10,"div",4),n.Tb(11,"label",8),n.Gc(12,"Password"),n.Sb(),n.Pb(13,"input",9),n.Ec(14,l,2,1,"div",7),n.Sb(),n.Tb(15,"div",4),n.Tb(16,"button",10),n.Ec(17,m,1,0,"span",11),n.Gc(18," Login "),n.Sb(),n.Tb(19,"a",12),n.Gc(20,"Register"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()),2&r&&(n.Bb(4),n.oc("formGroup",e.form),n.Bb(4),n.oc("ngClass",n.sc(7,g,e.submitted&&e.f.email.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.email.errors),n.Bb(4),n.oc("ngClass",n.sc(9,g,e.submitted&&e.f.password.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.password.errors),n.Bb(2),n.oc("disabled",e.loading),n.Bb(1),n.oc("ngIf",e.loading))},directives:[i.q,i.i,i.d,i.a,i.h,i.c,t.i,t.k,s.e],encapsulation:2}),r})()},{path:"register",component:(()=>{class r{constructor(r,e,o,i,t){this.formBuilder=r,this.route=e,this.router=o,this.accountService=i,this.alertService=t,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({firstName:["",i.o.required],lastName:["",i.o.required],email:["",[i.o.required,i.o.email]],age:["",i.o.required],phone:["",[i.o.required,i.o.pattern("^((\\+91-?)|0)?[0-9]{9}$")]],password:["",[i.o.required,i.o.minLength(6)]],confirmPass:["",i.o.required]},{validator:this.checkIfMatchingPasswords("password","confirmPass")})}checkIfMatchingPasswords(r,e){return o=>{const i=o.controls[e];return i.setErrors(o.controls[r].value!==i.value?{notEquivalent:!0}:null)}}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.register(this.form.value).pipe(Object(b.a)()).subscribe(r=>{this.alertService.success("Registration successful",{keepAfterRouteChange:!0}),this.router.navigate(["../login"],{relativeTo:this.route})},r=>{this.alertService.error(r.error.errorMessage),this.loading=!1}))}}return r.\u0275fac=function(e){return new(e||r)(n.Ob(i.b),n.Ob(s.a),n.Ob(s.c),n.Ob(c.a),n.Ob(c.b))},r.\u0275cmp=n.Ib({type:r,selectors:[["ng-component"]],decls:46,vars:31,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","email"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["for","age"],["type","number","formControlName","age",1,"form-control",3,"ngClass"],["for","phone"],["type","text","formControlName","phone",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","confirmPass"],["type","password","formControlName","confirmPass",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(n.Tb(0,"div",0),n.Tb(1,"h4",1),n.Gc(2,"Register"),n.Sb(),n.Tb(3,"div",2),n.Tb(4,"form",3),n.fc("ngSubmit",(function(){return e.onSubmit()})),n.Tb(5,"div",4),n.Tb(6,"label",5),n.Gc(7,"First Name"),n.Sb(),n.Pb(8,"input",6),n.Ec(9,v,2,1,"div",7),n.Sb(),n.Tb(10,"div",4),n.Tb(11,"label",8),n.Gc(12,"Last Name"),n.Sb(),n.Pb(13,"input",9),n.Ec(14,S,2,1,"div",7),n.Sb(),n.Tb(15,"div",4),n.Tb(16,"label",10),n.Gc(17,"Email"),n.Sb(),n.Pb(18,"input",11),n.Ec(19,w,3,2,"div",7),n.Sb(),n.Tb(20,"div",4),n.Tb(21,"label",12),n.Gc(22,"Age"),n.Sb(),n.Pb(23,"input",13),n.Ec(24,P,2,1,"div",7),n.Sb(),n.Tb(25,"div",4),n.Tb(26,"label",14),n.Gc(27,"Phone number"),n.Sb(),n.Pb(28,"input",15),n.Ec(29,G,3,2,"div",7),n.Sb(),n.Tb(30,"div",4),n.Tb(31,"label",16),n.Gc(32,"Password"),n.Sb(),n.Pb(33,"input",17),n.Ec(34,y,3,2,"div",7),n.Sb(),n.Tb(35,"div",4),n.Tb(36,"label",18),n.Gc(37,"Confirm your password"),n.Sb(),n.Pb(38,"input",19),n.Ec(39,O,2,1,"div",7),n.Sb(),n.Tb(40,"div",4),n.Tb(41,"button",20),n.Ec(42,j,1,0,"span",21),n.Gc(43," Register "),n.Sb(),n.Tb(44,"a",22),n.Gc(45,"Cancel"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()),2&r&&(n.Bb(4),n.oc("formGroup",e.form),n.Bb(4),n.oc("ngClass",n.sc(17,L,e.submitted&&e.f.firstName.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.firstName.errors),n.Bb(4),n.oc("ngClass",n.sc(19,L,e.submitted&&e.f.lastName.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.lastName.errors),n.Bb(4),n.oc("ngClass",n.sc(21,L,e.submitted&&e.f.email.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.email.errors),n.Bb(4),n.oc("ngClass",n.sc(23,L,e.submitted&&e.f.age.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.age.errors),n.Bb(4),n.oc("ngClass",n.sc(25,L,e.submitted&&e.f.phone.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.phone.errors),n.Bb(4),n.oc("ngClass",n.sc(27,L,e.submitted&&e.f.password.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.password.errors),n.Bb(4),n.oc("ngClass",n.sc(29,L,e.submitted&&e.f.confirmPass.errors)),n.Bb(1),n.oc("ngIf",e.submitted&&e.f.confirmPass.errors),n.Bb(2),n.oc("disabled",e.loading),n.Bb(1),n.oc("ngIf",e.loading))},directives:[i.q,i.i,i.d,i.a,i.h,i.c,t.i,t.k,i.k,s.e],encapsulation:2}),r})()}]}];let x=(()=>{class r{}return r.\u0275mod=n.Mb({type:r}),r.\u0275inj=n.Lb({factory:function(e){return new(e||r)},imports:[[s.f.forChild(M)],s.f]}),r})(),R=(()=>{class r{}return r.\u0275mod=n.Mb({type:r}),r.\u0275inj=n.Lb({factory:function(e){return new(e||r)},imports:[[t.b,i.l,x]]}),r})()}}]);